/**
 * Written by Alison Huang
 * 
 * This is one Node that will be added to the overall GUI Scene
 * Features:
 * 		Text box for user to input commands (if lines exceed dimensions of box, a scroll automatically appears)
 * 		Execute button to send one raw string to back-end to get parsed
 * 		Clear button to clear contents of the box
 */

package gui;

import controls.Controller;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.Group;
import javafx.scene.control.Button;
import javafx.scene.control.TextArea;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.HBox;

public class TextInput extends Group {
	
	private TextArea input = new TextArea();
	private BorderPane bp = new BorderPane();
	private HBox panel = new HBox();
	private Button btn_execute = new Button("Execute");
	private Button btn_clear = new Button("Clear");
	private String text;
	private Controller ct;
	
	public TextInput(Controller c){
		//ct = c;
		input.setPrefWidth(300); //these are hard-coded for now, but should be fixed later
		input.setPrefHeight(150);
		
		this.getChildren().add(input);
		makeButtonPanel();
	}
	
	private void makeButtonPanel(){
		makeBtns();
		panel.getChildren().addAll(btn_execute, btn_clear);
		bp.setBottom(panel);
		this.getChildren().add(bp);
		bp.setCenter(input);
	}
	
	private void makeBtns(){
		btn_execute.setOnAction(e -> ct.parseInput(input.getText()));
		btn_clear.setOnAction(e -> input.clear());
	}
	
	public String getText(){ //unclear if front-end sends all the text to back-end, or if back-end calls for the text
		return input.getText(); //if the back-end is calling for the text, use this method
	}
	
}